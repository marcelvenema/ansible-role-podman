--- 

# If action variable is not defined, gather status of the service and set action variable  
- name: Determine action variable status
  ansible.builtin.include_tasks: get_status.yml
  when: action is not defined

- name: Verify variable input
  ansible.builtin.assert:
    that:
      - action is defined and action in actions
    fail_msg: "Please provide 'action' {{ actions }}"
    quiet: true

- name: Install
  ansible.builtin.include_tasks: install.yml
  when: action == "install"

- name: Uninstall
  ansible.builtin.include_tasks: uninstall.yml
  when: action == "uninstall"

- name: Configure
  ansible.builtin.include_tasks: configure.yml
  when: action == "configure"

- name: Update
  ansible.builtin.include_tasks: update.yml
  when: action == "update"

- name: Start
  ansible.builtin.include_tasks: start.yml
  when: action == "start"

- name: Stop
  ansible.builtin.include_tasks: stop.yml
  when: action == "stop"

